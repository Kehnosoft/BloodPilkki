[gd_scene load_steps=14 format=3 uid="uid://by21s8l5b1b7o"]

[ext_resource type="Script" path="res://Scripts/Level.gd" id="1"]
[ext_resource type="Material" uid="uid://kfq4ci6bdykp" path="res://Assets/Environment/Master.tres" id="3"]
[ext_resource type="PackedScene" path="res://Prefabs/Tree.tscn" id="4"]
[ext_resource type="PackedScene" path="res://Prefabs/Player.tscn" id="5"]
[ext_resource type="PackedScene" path="res://Prefabs/Hole.tscn" id="6"]
[ext_resource type="Script" path="res://Scripts/DebugUI.gd" id="7"]
[ext_resource type="Script" path="res://Scripts/UI.gd" id="8"]
[ext_resource type="Script" path="res://Scripts/Graveyard.gd" id="9"]
[ext_resource type="Script" path="res://Scripts/Gameplay/ScoreTracker.gd" id="10"]

[sub_resource type="Sky" id="1"]
radiance_size = 4

[sub_resource type="Environment" id="2"]
background_mode = 2
sky = SubResource("1")
ambient_light_color = Color(0.839844, 0.80755, 0.633163, 1)
tonemap_mode = 2
tonemap_exposure = 0.5
ssr_enabled = true
ssr_fade_in = 0.252269
ssao_radius = 5.0

[sub_resource type="PlaneMesh" id="3"]
subdivide_width = 25
subdivide_depth = 25

[sub_resource type="ConcavePolygonShape3D" id="4"]
data = PackedVector3Array(1, 0, 1, -1, 0, 1, 1, 0, -1, -1, 0, 1, -1, 0, -1, 1, 0, -1)

[node name="Root" type="Node3D"]
script = ExtResource("1")

[node name="Camera3D" type="Camera3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 0.258819, 0.965926, 0, -0.965926, 0.258819, 0, 87.8452, 26.9801)
fov = 60.0

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("2")

[node name="Map" type="Node3D" parent="."]

[node name="MeshInstance3D" type="MeshInstance3D" parent="Map"]
transform = Transform3D(50, 0, 0, 0, 50, 0, 0, 0, 50, 0.0115142, 1.19209e-07, 0.00629067)
material_override = ExtResource("3")
mesh = SubResource("3")

[node name="StaticBody3D" type="StaticBody3D" parent="Map/MeshInstance3D"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="Map/MeshInstance3D/StaticBody3D"]
shape = SubResource("4")

[node name="Tree" parent="Map" instance=ExtResource("4")]
transform = Transform3D(2, 0, 0, 0, 2, 0, 0, 0, 2, 7.94168, 0, 27.0544)

[node name="Tree2" parent="Map" instance=ExtResource("4")]
transform = Transform3D(1.05814, 0, -1.69716, 0, 2, 0, 1.69716, 0, 1.05814, -21.7334, 0, 4.2061)

[node name="Players" type="Node3D" parent="."]

[node name="Player_1" parent="Players" instance=ExtResource("5")]

[node name="Player_2" parent="Players" instance=ExtResource("5")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 9.44946, 0.212021, -9.6863)

[node name="Holes" type="Node3D" parent="."]

[node name="Hole" parent="Holes" instance=ExtResource("6")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.0439911, 0.0776315, -9.92822)

[node name="DebugUI" type="Control" parent="."]
layout_mode = 3
anchors_preset = 0
offset_right = 40.0
offset_bottom = 40.0
script = ExtResource("7")

[node name="DebugHoleList" type="VBoxContainer" parent="DebugUI"]
layout_mode = 0
offset_right = 40.0
offset_bottom = 40.0

[node name="MarginContainer" type="MarginContainer" parent="DebugUI"]
layout_mode = 0
offset_right = 183.0
offset_bottom = 91.0

[node name="GameState" type="HSplitContainer" parent="DebugUI/MarginContainer"]
layout_mode = 2

[node name="DebugGameStateLabel" type="Label" parent="DebugUI/MarginContainer/GameState"]
layout_mode = 2
text = "Game state:"

[node name="DebugGameStateValue" type="Label" parent="DebugUI/MarginContainer/GameState"]
layout_mode = 2

[node name="UI" type="Control" parent="."]
layout_mode = 3
anchors_preset = 0
offset_right = 40.0
offset_bottom = 40.0
script = ExtResource("8")

[node name="RespawnTimerContainer" type="VBoxContainer" parent="UI"]
layout_mode = 0
offset_left = 420.0
offset_top = 28.0
offset_right = 602.0
offset_bottom = 68.0
alignment = 1

[node name="Label" type="Label" parent="UI/RespawnTimerContainer"]
layout_mode = 2
text = "Respawn"

[node name="RespawnTimerProgressBar" type="ProgressBar" parent="UI/RespawnTimerContainer"]
layout_mode = 2
step = 1.0

[node name="Spawners" type="Node3D" parent="."]

[node name="Spawner_1" type="Node3D" parent="Spawners"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -19.9771, 0.34124, 0)
script = ExtResource("9")

[node name="Spawner_2" type="Node3D" parent="Spawners"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 29.924, 0.34124, 0)
script = ExtResource("9")

[node name="ScoreTracker" type="Node" parent="."]
script = ExtResource("10")

[node name="ScoreTrackerContainer" type="VBoxContainer" parent="ScoreTracker"]
offset_left = 10.0
offset_top = 74.0
offset_right = 81.0
offset_bottom = 114.0

[node name="Label" type="Label" parent="ScoreTracker/ScoreTrackerContainer"]
layout_mode = 2
text = "Score:"

[node name="HSeparator" type="HSeparator" parent="ScoreTracker/ScoreTrackerContainer"]
layout_mode = 2
